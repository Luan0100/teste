// Espera todo o conteúdo da página carregar (boa prática)
document.addEventListener("DOMContentLoaded", () => {
  
  // 1. Seleciona todas as seções que queremos animar
  // (Neste caso, o header e todas as <section>)
  const sections = document.querySelectorAll('header, section');

  // 2. Configura o "Intersection Observer"
  // Ele vai "observar" quando um elemento entra na tela
  const observer = new IntersectionObserver((entries) => {
    
    // Roda para cada elemento que o observer está olhando
    entries.forEach(entry => {
      
      // 'isIntersecting' é true se o elemento (ou parte dele) está na tela
      if (entry.isIntersecting) {
        
        // 3. Adiciona a classe 'visible' ao elemento que apareceu
        entry.target.classList.add('visible');
        
        // 4. Para de observar esse elemento (para a animação não repetir)
        observer.unobserve(entry.target);
      }
    });
  }, {
    // A animação começa quando 10% (0.1) do elemento estiver visível
    threshold: 0.1 
  });

  // 5. Pede ao observer para observar cada uma das seções
  sections.forEach(section => {
    observer.observe(section);
  });

});